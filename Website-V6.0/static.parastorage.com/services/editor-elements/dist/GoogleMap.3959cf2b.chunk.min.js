(("undefined"!=typeof self?self:this).webpackJsonp_thunderbolt_elements=("undefined"!=typeof self?self:this).webpackJsonp_thunderbolt_elements||[]).push([[145],{1023:function(e,t,n){e.exports=n.p+"b4f9c49a00780b3a8097e7114b529be7.html"},1024:function(e,t,n){e.exports=n.p+"google-map.min.js"},476:function(e,t,n){"use strict";n.r(t);var a=n(157),r=n(554),o=n.n(r),i=n(0),u=n(568),l=n(663);function c(){var e=a.useRef([]);return[a.useCallback((function(){return new Promise((function(t){return e.current.push(t)}))}),[]),a.useCallback((function(t){e.current.forEach((function(e){return e(t)})),e.current.length=0}),[])]}var s=function(e,t){if(e||t)return t?{path:e,fillColor:t,strokeColor:t,fillOpacity:1,scale:.5}:function(e){if(e&&e.endsWith(".webp"))try{var t=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+t)}catch(e){}return e}(e)},f="load",d="message",p="SET_INITIAL_LOCATIONS",v="SET_CENTER",m="CENTER_UPDATED",g="SET_CENTER_FINISHED",b="SET_ZOOM",E="ZOOM_UPDATED",M="SET_ZOOM_FINISHED",O="MARKER_CLICKED",_="MAP_CLICKED",C="GET_MARKERS",h="MARKERS";function y(e,t,n){var r,o,y=n.onUpdateZoom,S=n.onUpdateCenter,k=n.onMarkerClicked,j=n.onMapClicked,w=c(),L=w[0],N=w[1],R=c(),T=R[0],A=R[1],D=c(),I=D[0],G=D[1],U=Object(a.useState)(!1),Z=U[0],F=U[1],K=Object(a.useMemo)((function(){return function(e){return Object(i.a)(Object(i.a)({},e),{locations:e.locations.map((function(e){return Object(i.a)(Object(i.a)({},e),{icon:s(e.pinIcon,e.pinColor)})}))})}(t)}),[t]),x=Object(l.a)(Z?K:null),J=((r={})[g]=function(){return N()},r[m]=function(e){return null==S?void 0:S(e)},r[M]=function(){return A()},r[E]=function(e){return null==y?void 0:y({zoom:e})},r[O]=function(e){return null==k?void 0:k(Object(i.a)({type:"markerClicked"},e))},r[_]=function(e){var t=e.longitude,n=e.latitude,a=Object(i.e)(e,["longitude","latitude"]);return null==j?void 0:j(Object(i.a)({type:"mapClicked",location:{longitude:t,latitude:n}},a))},r[h]=function(e){return G(e)},r),P=((o={})[f]=function(e){(0,e._sendMessage)({type:p,data:JSON.stringify(K)}),F(!0)},o[d]=function(e){var t,n=e.event;if("string"==typeof n.payload){var a=JSON.parse(n.payload),r=a.type,o=a.data;null===(t=J[r])||void 0===t||t.call(J,o)}},o),H=Object(u.a)((function(e,t){var n;return null===(n=P[e.type])||void 0===n?void 0:n.call(P,{event:e,_sendMessage:t})})),W=H[0],B=H[1];return Object(a.useImperativeHandle)(e,(function(){return{setMapCenter:function(e,t){var n=L();return B({type:v,data:JSON.stringify({longitude:e,latitude:t})}),n},setMapZoom:function(e){var t=T();return B({type:b,data:e}),t},getVisibleMarkers:function(){var e=I();return B({type:C}),e}}})),Object(a.useEffect)((function(){if(Z){var e=!!x&&(t=K.locations,n=x.locations,t.length===n.length&&t.every((function(e,t){var a=Object.keys(e);return a.length===Object.keys(n[t]).length&&a.every((function(a){return e[a]===n[t][a]}))})));B(JSON.stringify(Object(i.a)(Object(i.a)({},K),{shouldKeepMarkers:e})))}var t,n}),[K,x,B,Z]),[W]}var S=n(792),k=n.n(S),j={GoogleMapLiftedShadow:function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(k.a.left,k.a.shd)}),a.createElement("div",{className:o()(k.a.right,k.a.shd)}))},GoogleMapSloppy:function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(k.a.brd,k.a.one)}),a.createElement("div",{className:o()(k.a.brd,k.a.two)}))},GoogleMapSkin:function(){return a.createElement(a.Fragment,null)},GoogleMapDefault:function(){return a.createElement(a.Fragment,null)}},w=n(1023),L=n.n(w),N=n(1024),R=n.n(N);t.default=a.forwardRef((function(e,t){var n=e.id,r=e.skin,i=e.urlQueries,u=e.mapData,l=e.translate,c=e.onUpdateCenter,s=e.onUpdateZoom,f=e.onMarkerClicked,d=e.onMapClicked,p=e.onMouseEnter,v=e.onMouseLeave,m=j[r],g=L.a+"?"+i+"&"+new URLSearchParams({googleMapsScriptUrl:R.a}),b=a.useState(!1),E=b[0],M=b[1],O=y(t,u,{onUpdateCenter:c,onUpdateZoom:s,onMarkerClicked:f,onMapClicked:d})[0];a.useEffect((function(){M(!0)}),[g]);var _=l("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return E?a.createElement("wix-iframe",{id:n,title:_,"aria-label":_,"data-src":g,class:o()(k.a[r],k.a.wixIframe),tabindex:0},a.createElement(m,null),a.createElement("div",{id:"mapContainer_"+n,onMouseEnter:p,onMouseLeave:v,className:k.a.mapContainer},a.createElement("iframe",{ref:O,title:_,"aria-label":_,"data-src":g,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))):null}))},568:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(157),r=n(562);function o(e){void 0===e&&(e=function(){return{}});var t=Object(a.useRef)(void 0),n=Object(a.useRef)(void 0),o=Object(a.useCallback)((function(e,n,a){if(void 0===n&&(n="*"),t.current){var r=t.current.contentWindow;null==r||r.postMessage(e,n,a)}}),[]),i=Object(a.useCallback)((function(a){if(n.current&&(n.current(),n.current=void 0),a){var r=function(){return e({type:"load"},o)};a.addEventListener("load",r),t.current=a,n.current=function(){a.removeEventListener("load",r)}}}),[e,o]);return Object(a.useEffect)((function(){if(Object(r.b)()){var n=function(n){var a;n.source&&n.source!==(null===(a=t.current)||void 0===a?void 0:a.contentWindow)||e({type:"message",payload:n.data},o)};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[e,o]),[i,o]}},663:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(157);function r(e,t){void 0===t&&(t=null);var n=Object(a.useRef)(t);return Object(a.useEffect)((function(){n.current=e}),[e]),n.current}},792:function(e,t,n){e.exports={GoogleMapSkin:"_1LodC",googleMapSkin:"_1LodC",mapContainer:"_3HA2p",GoogleMapDefault:"_2C90e",googleMapDefault:"_2C90e",GoogleMapSloppy:"_2thyl",googleMapSloppy:"_2thyl",brd:"_5hmKa",one:"_3amD6",two:"_3pVOf",GoogleMapLiftedShadow:"ugbAt",googleMapLiftedShadow:"ugbAt",shd:"_2LZih",left:"_2nA3_",right:"_29t6M"}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements/dist/GoogleMap.3959cf2b.chunk.min.js.map